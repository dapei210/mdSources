### 终端识别方法

详细介绍

#### HTTP UserAgent

User-Agent是Web浏览器标识。Web服务器通过检测终端Web浏览器的User-Agent发送最佳适配的网页内容，以便解决网站在不同的浏览器之间的兼容性问题。User-Agent通常包含操作系统名称、操作系统版本、CPU类型等信息。在终端用户使用Web认证向业务控制器发起身份认证时，业务控制器通过分析浏览器的User-Agent的内容来识别终端的操作系统名称和操作系统版本。

DHCP Option

在IP地址由DHCP服务器自动分配的情况下，为了获取IP地址接入网络，DHCP客户端在申请IP地址时会向DHCP服务器获取相关的参数。不同的终端从DHCP服务器获取的参数会有所不同，从而形成不同终端本身的显著特征。常用属性有55、60、12。

接入设备上报信息需要配置DHCP Snooping功能。

MAC OUI

MAC地址由6个字节组成。MAC OUI是MAC地址最左边的3个字节就是组织唯一标识符，由IEEE（Institute for Electrical and Electronic Engineers）分配给各类组织使用，与网卡制造的厂商一一对应。根据IEEE已经分配的MAC地址左边3个字节大致能够判断设备制造商。

mDNS

mDNS即组播DNS（multicast DNS），mDNS主要实现了在没有传统DNS服务器的情况下使局域网内的主机实现相互发现和通信。

mDNS的默认端口是5353，每个进入局域网的主机，如果开启了mDNS服务的话，都会向局域网内的所有主机组播一个消息。根据消息就能获取产品的信息。

接入设备上报信息需要配置mDNS Snooping功能。

LLDP

LLDP协议可以识别网络中设备之间的二层的链接状态信息并进行网络拓扑分析，通过LLDP协议在首次发现邻居类型和邻居类型变化之后上报LLDP邻居信息获取终端特征。适用于终端与华为接入交换机直连且终端支持LLDP功能的场景。华为接入交换机缺省开启LLDP功能，如果LLDP功能去使能，请配置LLDP功能。

SNMP Query

为了更好地通过网管管理自己生产的设备，很多设备制造商在开发产品时遵循SNMP协议，以便网管能够通过SNMP查询设备的运行状态。例如交换机、路由器、IP电话、打印机。这些设备在向网管上报的设备的运行状态信息通常会包含设备名称、设备类型和设备制造商名称。查询并分析设备的运行状态信息即可识别此类设备。

通过SNMP识别设备必须同时满足如下前提条件：

目标设备上运行SNMP，允许第三方软件查询设备自身的运行状态。


NMAP

NMAP(Network Mapper(网络映射器)) 是一款开放源代码的网络探测和安全审计的工具，主要用于主机发现、端口扫描、服务版本探测、操作系统探测等场景。